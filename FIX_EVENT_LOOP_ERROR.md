# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –û—à–∏–±–∫–∞ Event Loop

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 12 —Ñ–µ–≤—Ä–∞–ª—è 2026

---

## üêõ –û—à–∏–±–∫–∞

```
RuntimeError: There is no current event loop in thread 'MainThread'.
```

---

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ë—ã–ª–æ (–ù–ï —Ä–∞–±–æ—Ç–∞–ª–æ):
```python
if __name__ == "__main__":
    loop = asyncio.get_event_loop()  # ‚ùå –û—à–∏–±–∫–∞ –Ω–∞ Windows
    success = loop.run_until_complete(test_zai())
    exit(0 if success else 1)
```

### –°—Ç–∞–ª–æ (–†–ê–ë–û–¢–ê–ï–¢):
```python
if __name__ == "__main__":
    try:
        # ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º asyncio.run –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è event loop
        asyncio.run(test_zai())
    except KeyboardInterrupt:
        print("\n\n‚ùå –ü—Ä–µ—Ä–≤–∞–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º")
        exit(1)
```

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd C:\Soobshio_project
python test_zai_api_async.py
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
```bash
cd C:\Soobshio_project
python test_zai_api.py
```

---

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### test_zai_api_async.py
```python
# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
if __name__ == "__main__":
    asyncio.run(test_zai())  # –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è Python 3.7+
```

### test_zai_api.py
```python
# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
# –£–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "zai-" –≤ –Ω–∞—á–∞–ª–µ –∫–ª—é—á–∞
# –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º –∫–ª—é—á–∞
```

---

## üìã –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
pip install zai-openai
pip install python-dotenv
```

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

```
============================================================
–ü–†–û–í–ï–†–ö–ê ZAI API (ASYNC)
============================================================

API Key: 9141b0b0a...EqHrlTT06TcYEKbF
–î–ª–∏–Ω–∞ –∫–ª—é—á–∞: 47 —Å–∏–º–≤–æ–ª–æ–≤
‚úÖ –ò–º–ø–æ—Ä—Ç zai_service —É—Å–ø–µ—à–µ–Ω

–û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞...
‚úÖ –ó–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–µ–Ω!

–†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞:
  –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –î–æ—Ä–æ–≥–∏
  –ê–¥—Ä–µ—Å: —É–ª–∏—Ü–∞ –õ–µ–Ω–∏–Ω–∞
  –†–µ–∑—é–º–µ: –Ø–º–∞ –Ω–∞ —É–ª–∏—Ü–µ –õ–µ–Ω–∏–Ω–∞, –º–∞—à–∏–Ω—ã –≤ –∞–≤–∞—Ä–∏–∏

‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏—è '–î–æ—Ä–æ–≥–∏' –≤–∞–ª–∏–¥–Ω–∞!

============================================================
‚úÖ ZAI API –†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û!
============================================================
```

---

## üéâ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ! –¢–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å!
