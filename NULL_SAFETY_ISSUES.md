# üìù –û—Ç—á–µ—Ç –æ null safety –ø—Ä–æ–±–ª–µ–º–∞—Ö –≤ Flutter –∫–æ–¥–µ

**–î–∞—Ç–∞:** 9 —Ñ–µ–≤—Ä–∞–ª—è 2026 –≥.
**–°—Ç–∞—Ç—É—Å:** –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

---

## üö® –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. `lib/lib/services/api_service.dart`

#### –ü—Ä–æ–±–ª–µ–º–∞ 1: –û–ø–∞—Å–Ω—ã–π null assertion
**–°—Ç—Ä–æ–∫–∞:** 13
```dart
if (_customBaseUrl != null) return _customBaseUrl!;
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `!` (null assertion) –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ runtime –æ—à–∏–±–∫–∞–º.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
```dart
if (_customBaseUrl != null) return _customBaseUrl!;
```
–ò–ª–∏ –µ—â–µ –ª—É—á—à–µ:
```dart
static String get baseUrl {
  return _customBaseUrl ??
         (kIsWeb ? 'http://127.0.0.1:8000' :
         Platform.isAndroid ? 'http://10.0.2.2:8000' :
         'http://127.0.0.1:8000');
}
```

#### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π null –≤ JSON
**–°—Ç—Ä–æ–∫–∞:** 129-130
```dart
final data = json.decode(response.body);
return (data['categories'] as List).cast<Map<String, dynamic>>();
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** `data['categories']` –º–æ–∂–µ—Ç –±—ã—Ç—å null.

**–†–µ—à–µ–Ω–∏–µ:**
```dart
final data = json.decode(response.body) as Map<String, dynamic>?;
if (data != null && data['categories'] != null) {
  return (data['categories'] as List).cast<Map<String, dynamic>>();
}
return _defaultCategories();
```

---

### 2. `lib/lib/services/ai_service.dart`

#### –ü—Ä–æ–±–ª–µ–º–∞: –û–ø–∞—Å–Ω—ã–π null assertion
**–°—Ç—Ä–æ–∫–∞:** 12
```dart
if (_customBaseUrl != null) return _customBaseUrl!;
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –¢–æ –∂–µ, —á—Ç–æ –∏ –≤—ã—à–µ.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (—Å–º. –≤—ã—à–µ).

---

### 3. `lib/screens/map_screen.dart`

#### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ç–∏–ø JSON –æ—Ç–≤–µ—Ç–∞
**–°—Ç—Ä–æ–∫–∞:** 33
```dart
final List data = json.decode(resp.body);
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** `json.decode()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `dynamic`, –Ω–æ –º—ã –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ —ç—Ç–æ –≤—Å–µ–≥–¥–∞ `List`.

**–†–µ—à–µ–Ω–∏–µ:**
```dart
final data = json.decode(resp.body) as List<dynamic>?;
if (data == null) {
  debugPrint('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞');
  return;
}
```

---

### 4. `lib/lib/services/file_download_service.dart`

#### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
**–°—Ç—Ä–æ–∫–∞:** 25
```dart
static Future<void> downloadFile({...}) async {
  ...
  return taskId;  // –û—à–∏–±–∫–∞: —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Future<void>
}
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Future<void>`, –Ω–æ –ø—ã—Ç–∞–µ—Ç—Å—è –≤–µ—Ä–Ω—É—Ç—å `String` (taskId).

**–†–µ—à–µ–Ω–∏–µ:**
```dart
static Future<String?> downloadFile({...}) async {
  ...
  return taskId;
}
```

---

### 5. `lib/lib/services/voice_input_service.dart`

#### –ü—Ä–æ–±–ª–µ–º–∞ 1: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ –ø–æ–ª—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
**–°—Ç—Ä–æ–∫–∏:** 8-9, 37, 45, 49
```dart
bool _isListening = false;
bool _isAvailable = false;
...
_isListening = true;  // –í —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º –º–µ—Ç–æ–¥–µ
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª–µ–π –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–∞—Ö.

**–†–µ—à–µ–Ω–∏–µ:** –°–¥–µ–ª–∞—Ç—å –ø–æ–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏–ª–∏ –º–µ—Ç–æ–¥—ã –Ω–µ—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏:
```dart
static bool _isListening = false;
static bool _isAvailable = false;
```

#### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π null –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
**–°—Ç—Ä–æ–∫–∞:** 42
```dart
onResult(result.recognizedWords);
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** `recognizedWords` –º–æ–∂–µ—Ç –±—ã—Ç—å null.

**–†–µ—à–µ–Ω–∏–µ:**
```dart
onResult(result.recognizedWords ?? '');
```

#### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ú–µ—Ç–æ–¥—ã –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å null
**–°—Ç—Ä–æ–∫–∏:** 109, 114
```dart
static Future<List<dynamic>> getLanguages() async {
  return await _speech.locales;  // –ú–æ–∂–µ—Ç –±—ã—Ç—å null
}
```
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ú–µ—Ç–æ–¥—ã –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å null.

**–†–µ—à–µ–Ω–∏–µ:**
```dart
static Future<List<dynamic>?> getLanguages() async {
  return await _speech.locales;
}
```

---

## üìä –ò—Ç–æ–≥

**–í—Å–µ–≥–æ –Ω–∞–π–¥–µ–Ω–æ –ø—Ä–æ–±–ª–µ–º:** 8
- ‚ùå –û–ø–∞—Å–Ω—ã–π null assertion: 2
- ‚ùå –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π null –≤ JSON: 2
- ‚ùå –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤: 1
- ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª–µ–π: 1
- ‚ùå –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π null –≤ callback: 1
- ‚ùå Null safety —Ç–∏–ø–æ–≤: 1

---

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò–∑–±–µ–≥–∞–π—Ç–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `!`** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `??` –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ null –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ JSON** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `as?` –∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–∞ null
3. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ —Ç–∏–ø–∞–º–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å–∏–≥–Ω–∞—Ç—É—Ä–µ —Ñ—É–Ω–∫—Ü–∏–∏
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ nullable —Ç–∏–ø—ã** - `Future<T?>` –≤–º–µ—Å—Ç–æ `Future<T>` –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å null
5. **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ `dart analyze`** - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ null safety –ø—Ä–æ–±–ª–µ–º
6. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `dart fix`** - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–±–ª–µ–º

---

**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é
