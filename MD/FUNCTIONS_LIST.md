# üìã –ü–û–õ–ù–´–ô –°–ü–ò–°–û–ö –§–£–ù–ö–¶–ò–ô –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø "–°–û–û–ë–©–ò–û"

## –í–µ—Ä—Å–∏—è: 2.0
## –î–∞—Ç–∞: 2026-02-07

---

## üóÑÔ∏è BACKEND (FastAPI + SQLAlchemy)

### 1. API Endpoints

#### 1.1 Core API
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | Endpoint | –ú–µ—Ç–æ–¥ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|-------|--------|
| 1 | Health Check | `/health` | GET | ‚úÖ |
| 2 | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∂–∞–ª–æ–±—ã | `/complaints` | GET | ‚úÖ |
| 3 | –°–æ–∑–¥–∞—Ç—å –∂–∞–ª–æ–±—É | `/complaints` | POST | ‚úÖ |
| 4 | –ü–æ–ª—É—á–∏—Ç—å –∫–ª–∞—Å—Ç–µ—Ä—ã | `/complaints/clusters` | GET | ‚úÖ |
| 5 | –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | `/categories` | GET | ‚úÖ |
| 6 | –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É | `/stats` | GET | ‚úÖ |

#### 1.2 Social API (/social)
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | Endpoint | –ú–µ—Ç–æ–¥ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|-------|--------|
| 7 | –õ–∞–π–∫–Ω—É—Ç—å –∂–∞–ª–æ–±—É | `/complaints/{id}/like` | POST | ‚úÖ |
| 8 | –£–±—Ä–∞—Ç—å –ª–∞–π–∫ | `/complaints/{id}/like` | DELETE | ‚úÖ |
| 9 | –ü–æ–ª—É—á–∏—Ç—å –ª–∞–π–∫–∏ | `/complaints/{id}/likes` | GET | ‚úÖ |
| 10 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∞–π–∫ | `/complaints/{id}/liked` | GET | ‚úÖ |
| 11 | –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ | `/complaints/{id}/comments` | GET | ‚úÖ |
| 12 | –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | `/complaints/{id}/comments` | POST | ‚úÖ |
| 13 | –£–¥–∞–ª–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | `/comments/{id}` | DELETE | ‚úÖ |
| 14 | –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | `/users` | POST | ‚úÖ |
| 15 | –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | `/users/{id}` | GET | ‚úÖ |
| 16 | –†–µ–ø—É—Ç–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | `/users/{id}/reputation` | GET | ‚úÖ |
| 17 | –†–µ–π—Ç–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | `/users/{id}/rank` | GET | ‚úÖ |
| 18 | –¢–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | `/users/top` | GET | ‚úÖ |

### 2. Database Models

#### 2.1 User Model
| ‚Ññ | –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|------|-----|----------|--------|
| 1 | id | Integer | PK, Auto-increment | ‚úÖ |
| 2 | telegram_id | Integer | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID Telegram | ‚úÖ |
| 3 | username | String | Username –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ‚úÖ |
| 4 | first_name | String | –ò–º—è | ‚úÖ |
| 5 | last_name | String | –§–∞–º–∏–ª–∏—è | ‚úÖ |
| 6 | photo_url | String | URL —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è | ‚úÖ |
| 7 | created_at | DateTime | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | ‚úÖ |

#### 2.2 Report (Complaint) Model
| ‚Ññ | –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|------|-----|----------|--------|
| 1 | id | Integer | PK, Auto-increment | ‚úÖ |
| 2 | user_id | Integer | FK to User | ‚úÖ |
| 3 | title | String | –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∂–∞–ª–æ–±—ã | ‚úÖ |
| 4 | description | Text | –û–ø–∏—Å–∞–Ω–∏–µ | ‚úÖ |
| 5 | lat | Float | –®–∏—Ä–æ—Ç–∞ | ‚úÖ |
| 6 | lng | Float | –î–æ–ª–≥–æ—Ç–∞ | ‚úÖ |
| 7 | address | String | –ê–¥—Ä–µ—Å | ‚úÖ |
| 8 | category | String | –ö–∞—Ç–µ–≥–æ—Ä–∏—è | ‚úÖ |
| 9 | status | String | –°—Ç–∞—Ç—É—Å (pending/in_progress/resolved/rejected) | ‚úÖ |
| 10 | source | String | –ò—Å—Ç–æ—á–Ω–∏–∫ (mobile_app/telegram_bot) | ‚úÖ |
| 11 | created_at | DateTime | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | ‚úÖ |
| 12 | updated_at | DateTime | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | ‚úÖ |
| 13 | likes_count | Property | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤ | ‚úÖ |
| 14 | comments_count | Property | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ | ‚úÖ |

#### 2.3 Like Model
| ‚Ññ | –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|------|-----|----------|--------|
| 1 | id | Integer | PK | ‚úÖ |
| 2 | report_id | Integer | FK to Report | ‚úÖ |
| 3 | user_id | Integer | FK to User | ‚úÖ |
| 4 | created_at | DateTime | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | ‚úÖ |

#### 2.4 Comment Model
| ‚Ññ | –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|------|-----|----------|--------|
| 1 | id | Integer | PK | ‚úÖ |
| 2 | report_id | Integer | FK to Report | ‚úÖ |
| 3 | user_id | Integer | FK to User | ‚úÖ |
| 4 | text | Text | –¢–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è | ‚úÖ |
| 5 | parent_id | Integer | FK to Comment (–¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤) | ‚úÖ |
| 6 | created_at | DateTime | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | ‚úÖ |
| 7 | updated_at | DateTime | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | ‚úÖ |

### 3. –°–µ—Ä–≤–∏—Å—ã Backend

#### 3.1 Geo Service
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | get_coordinates | –ì–µ–æ–∫–æ–¥–∏–Ω–≥ –∞–¥—Ä–µ—Å–∞ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã | ‚úÖ |
| 2 | reverse_geocode | –û–±—Ä–∞—Ç–Ω–æ–µ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ |
| 3 | make_street_view_url | –°–æ–∑–¥–∞–Ω–∏–µ URL Street View | ‚úÖ |
| 4 | make_map_url | –°–æ–∑–¥–∞–Ω–∏–µ URL OpenStreetMap | ‚úÖ |
| 5 | get_coordinates_sync | –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –≥–µ–æ–∫–æ–¥–∏–Ω–≥–∞ | ‚úÖ |

#### 3.2 AI Service
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | analyze_complaint | AI –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ –∂–∞–ª–æ–±—ã | ‚úÖ |
| 2 | Fallback to OpenAI | –†–µ–∑–µ—Ä–≤–Ω—ã–π AI (GPT) | ‚úÖ |
| 3 | Categorization | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | ‚úÖ |
| 4 | Address extraction | –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ | ‚úÖ |
| 5 | Summary generation | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∑—é–º–µ | ‚úÖ |

#### 3.3 Telegram Parser
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | Channel monitoring | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ 12 –∫–∞–Ω–∞–ª–æ–≤ | ‚úÖ |
| 2 | Auto-analysis | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π AI –∞–Ω–∞–ª–∏–∑ | ‚úÖ |
| 3 | Geocoding | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≥–µ–æ–∫–æ–¥–∏–Ω–≥ | ‚úÖ |
| 4 | Auto-publishing | –ê–≤—Ç–æ–ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –∫–∞–Ω–∞–ª | ‚úÖ |
| 5 | API integration | –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ FastAPI | ‚úÖ |

#### 3.4 Telegram Bot
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | /start command | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ | ‚úÖ |
| 2 | Text complaints | –ü—Ä–∏–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∂–∞–ª–æ–± | ‚úÖ |
| 3 | Photo analysis | AI –∞–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ | ‚úÖ |
| 4 | Category selection | –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | ‚úÖ |
| 5 | Address input | –í–≤–æ–¥ –∞–¥—Ä–µ—Å–∞ | ‚úÖ |
| 6 | Confirmation | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è | ‚úÖ |
| 7 | Web App button | –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è Mini App | ‚úÖ |
| 8 | Voice messages | –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (TODO) | ‚ö†Ô∏è |

---

## üì± FLUTTER APPLICATION

### 4. –≠–∫—Ä–∞–Ω—ã

#### 4.1 MapScreen (–ö–∞—Ä—Ç–∞)
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | OpenStreetMap | –ë–∞–∑–æ–≤–∞—è –∫–∞—Ä—Ç–∞ OSM | ‚úÖ |
| 2 | Markers | –ú–∞—Ä–∫–µ—Ä—ã –∂–∞–ª–æ–± | ‚úÖ |
| 3 | Category filter | –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º | ‚úÖ |
| 4 | Search | –ü–æ–∏—Å–∫ –ø–æ –∞–¥—Ä–µ—Å—É | ‚úÖ |
| 5 | Zoom controls | +/- –∫–Ω–æ–ø–∫–∏ | ‚úÖ |
| 6 | Refresh | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö | ‚úÖ |
| 7 | User location | –ö–Ω–æ–ø–∫–∞ –º–æ–µ–π –ª–æ–∫–∞—Ü–∏–∏ | ‚úÖ |
| 8 | FAB create | –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∂–∞–ª–æ–±—ã | ‚úÖ |

#### 4.2 ComplaintsListScreen (–°–ø–∏—Å–æ–∫)
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | List view | –°–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–æ—á–µ–∫ | ‚úÖ |
| 2 | Category chips | –§–∏–ª—å—Ç—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π | ‚úÖ |
| 3 | Pull-to-refresh | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ pull down | ‚úÖ |
| 4 | Empty state | –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ | ‚úÖ |
| 5 | Error handling | –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | ‚úÖ |
| 6 | Card details | –ö–∞—Ä—Ç–æ—á–∫–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π | ‚úÖ |

#### 4.3 CreateComplaintScreen (–°–æ–∑–¥–∞–Ω–∏–µ)
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | 3-step wizard | –ú–∞—Å—Ç–µ—Ä 3 —à–∞–≥–∞ | ‚úÖ |
| 2 | Step 1: Category | –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | ‚úÖ |
| 3 | Step 2: Description | –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ | ‚úÖ |
| 4 | Step 3: Location | –í—ã–±–æ—Ä –Ω–∞ –∫–∞—Ä—Ç–µ | ‚úÖ |
| 5 | Validation | –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π | ‚úÖ |
| 6 | Progress indicator | –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ | ‚úÖ |

#### 4.4 ComplaintDetailScreen (–î–µ—Ç–∞–ª–∏)
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | Category badge | –ë–µ–π–¥–∂ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ | ‚úÖ |
| 2 | Status indicator | –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ | ‚úÖ |
| 3 | Title & description | –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ | ‚úÖ |
| 4 | Address | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ | ‚úÖ |
| 5 | Coordinates | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã | ‚úÖ |
| 6 | Share button | –ö–Ω–æ–ø–∫–∞ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è | ‚úÖ |
| 7 | Street View button | –ö–Ω–æ–ø–∫–∞ Street View | ‚úÖ |
| 8 | Date display | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è | ‚úÖ |

#### 4.5 AnalyticsScreen (–ê–Ω–∞–ª–∏—Ç–∏–∫–∞)
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | Summary cards | –ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ | ‚úÖ |
| 2 | Category chart | –ì—Ä–∞—Ñ–∏–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º | ‚úÖ |
| 3 | Timeline chart | –ì—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏ | ‚úÖ |
| 4 | Resolution time | –í—Ä–µ–º—è —Ä–µ—à–µ–Ω–∏—è | ‚úÖ |
| 5 | Time range filter | –§–∏–ª—å—Ç—Ä –ø–æ –≤—Ä–µ–º–µ–Ω–∏ | ‚úÖ |

### 5. Flutter Services

#### 5.1 API Service
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | getComplaints | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ | ‚úÖ |
| 2 | createComplaint | –°–æ–∑–¥–∞–Ω–∏–µ –∂–∞–ª–æ–±—ã | ‚úÖ |
| 3 | getClusters | –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ | ‚úÖ |
| 4 | getStats | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ | ‚úÖ |
| 5 | getCategories | –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π | ‚úÖ |
| 6 | Error handling | –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | ‚úÖ |
| 7 | Timeout handling | –¢–∞–π–º–∞—É—Ç—ã | ‚úÖ |

#### 5.2 Location Service
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | getCurrentLocation | –¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è | ‚úÖ |
| 2 | requestPermission | –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è | ‚úÖ |
| 3 | distanceBetween | –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ | ‚úÖ |
| 4 | isWithinRadius | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–¥–∏—É—Å–∞ | ‚úÖ |
| 5 | filterByRadius | –§–∏–ª—å—Ç—Ä –ø–æ —Ä–∞–¥–∏—É—Å—É | ‚úÖ |

#### 5.3 Image Service
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | pickImageFromGallery | –í—ã–±–æ—Ä –∏–∑ –≥–∞–ª–µ—Ä–µ–∏ | ‚úÖ |
| 2 | captureImage | –°—ä–µ–º–∫–∞ –∫–∞–º–µ—Ä–æ–π | ‚úÖ |
| 3 | extractExif | –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ EXIF | ‚úÖ |
| 4 | getGPSFromExif | GPS –∏–∑ EXIF | ‚úÖ |
| 5 | compressImage | –°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | ‚úÖ |

#### 5.4 Hive Service (Offline)
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | cacheComplaint | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∂–∞–ª–æ–±—ã | ‚úÖ |
| 2 | getCachedComplaints | –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ –∫—ç—à–∞ | ‚úÖ |
| 3 | saveDraft | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞ | ‚úÖ |
| 4 | getDraft | –ü–æ–ª—É—á–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞ | ‚úÖ |
| 5 | queueForSync | –û—á–µ—Ä–µ–¥—å –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é | ‚úÖ |
| 6 | getSyncQueue | –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–∏ | ‚úÖ |
| 7 | Connectivity check | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏ | ‚úÖ |

#### 5.5 Notification Service
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | initialize | –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è FCM | ‚úÖ |
| 2 | requestPermission | –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π | ‚úÖ |
| 3 | getToken | –ü–æ–ª—É—á–µ–Ω–∏–µ FCM —Ç–æ–∫–µ–Ω–∞ | ‚úÖ |
| 4 | onMessage | –û–±—Ä–∞–±–æ—Ç–∫–∞ foreground | ‚úÖ |
| 5 | onMessageOpenedApp | –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è | ‚úÖ |
| 6 | local notifications | –õ–æ–∫–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | ‚úÖ |

#### 5.6 Social Service
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | likeComplaint | –õ–∞–π–∫–Ω—É—Ç—å | ‚úÖ |
| 2 | unlikeComplaint | –£–±—Ä–∞—Ç—å –ª–∞–π–∫ | ‚úÖ |
| 3 | getLikesCount | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤ | ‚úÖ |
| 4 | hasLiked | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∞–π–∫–∞ | ‚úÖ |
| 5 | getComments | –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ | ‚úÖ |
| 6 | addComment | –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | ‚úÖ |
| 7 | deleteComment | –£–¥–∞–ª–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | ‚úÖ |
| 8 | getUserReputation | –†–µ–ø—É—Ç–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ‚úÖ |
| 9 | getTopUsers | –¢–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | ‚úÖ |

#### 5.7 AI Autofill Service
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | autofillFromText | –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–∑ —Ç–µ–∫—Å—Ç–∞ | ‚úÖ |
| 2 | extractAddress | –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ | ‚úÖ |
| 3 | categorize | –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è | ‚úÖ |
| 4 | improveDescription | –£–ª—É—á—à–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è | ‚úÖ |

### 6. –í–∏–¥–∂–µ—Ç—ã

#### 6.1 VoiceInputWidget
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | speech recognition | –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ | ‚úÖ |
| 2 | visual feedback | –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å | ‚úÖ |
| 3 | hold to record | –£–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–ª—è –∑–∞–ø–∏—Å–∏ | ‚úÖ |
| 4 | confidence display | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ | ‚úÖ |

---

## üåê WEB

### 7. Web Components

#### 7.1 Landing Page (index.html)
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | Hero section | –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω | ‚úÖ |
| 2 | Features section | –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ | ‚úÖ |
| 3 | How it works | –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ |
| 4 | Statistics | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | ‚úÖ |
| 5 | CTA section | –ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é | ‚úÖ |
| 6 | Footer | –ü–æ–¥–≤–∞–ª | ‚úÖ |
| 7 | Telegram Mini App | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è TMA | ‚úÖ |
| 8 | Responsive design | –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω | ‚úÖ |

#### 7.2 Test Page (test.html)
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | API health check | –ü—Ä–æ–≤–µ—Ä–∫–∞ API | ‚úÖ |
| 2 | Categories test | –¢–µ—Å—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π | ‚úÖ |
| 3 | Stats test | –¢–µ—Å—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ | ‚úÖ |
| 4 | Complaints list | –¢–µ—Å—Ç —Å–ø–∏—Å–∫–∞ | ‚úÖ |
| 5 | Clusters test | –¢–µ—Å—Ç –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ | ‚úÖ |
| 6 | Create complaint | –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è | ‚úÖ |
| 7 | Telegram WebApp | –¢–µ—Å—Ç TMA | ‚úÖ |
| 8 | Geolocation | –¢–µ—Å—Ç –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ | ‚úÖ |
| 9 | Run all tests | –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ | ‚úÖ |

---

## ü§ñ TELEGRAM INTEGRATION

### 8. Telegram Mini App

| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | Web App SDK | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ SDK | ‚úÖ |
| 2 | User detection | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ‚úÖ |
| 3 | MainButton | –ö–Ω–æ–ø–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è | ‚úÖ |
| 4 | BackButton | –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ | ‚úÖ |
| 5 | Theme colors | –¶–≤–µ—Ç–∞ —Ç–µ–º—ã | ‚úÖ |
| 6 | Viewport handling | –û–±—Ä–∞–±–æ—Ç–∫–∞ viewport | ‚úÖ |
| 7 | Data sharing | –û–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏ —Å –±–æ—Ç–æ–º | ‚úÖ |

### 9. Deployment & DevOps

#### 9.1 Docker
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | Dockerfile | Dockerfile –¥–ª—è backend | ‚úÖ |
| 2 | Multi-stage build | –ú—É–ª—å—Ç–∏-—Å—Ç–∞–¥–∏–π–Ω–∞—è —Å–±–æ—Ä–∫–∞ | ‚úÖ |
| 3 | docker-compose | –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫ | ‚úÖ |
| 4 | PostgreSQL | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | ‚úÖ |
| 5 | Redis | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ |
| 6 | Nginx | Reverse proxy | ‚úÖ |

#### 9.2 Firebase
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | Configuration | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Firebase | ‚úÖ |
| 2 | Firestore rules | –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ | ‚úÖ |
| 3 | Flutter integration | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Flutter | ‚úÖ |
| 4 | Cloud Messaging | Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | ‚úÖ |

#### 9.3 CORS
| ‚Ññ | –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---|---------|----------|--------|
| 1 | CORS middleware | Middleware CORS | ‚úÖ |
| 2 | Origin whitelist | –ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ | ‚úÖ |
| 3 | Methods configuration | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ—Ç–æ–¥–æ–≤ | ‚úÖ |
| 4 | Headers configuration | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ | ‚úÖ |

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π: **157**

### –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:
- Backend API: 18 endpoints
- Database Models: 35 –ø–æ–ª–µ–π
- Backend Services: 21 —Ñ—É–Ω–∫—Ü–∏—è
- Flutter Screens: 37 —Ñ—É–Ω–∫—Ü–∏–π
- Flutter Services: 40 —Ñ—É–Ω–∫—Ü–∏–π
- Web Components: 17 —Ñ—É–Ω–∫—Ü–∏–π
- Telegram Integration: 7 —Ñ—É–Ω–∫—Ü–∏–π
- Deployment: 14 —Ñ—É–Ω–∫—Ü–∏–π

### –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: **154 (98%)**
- ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ: **2 (1%)**
- ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: **1 (1%)**

---

## üéØ –ö–õ–Æ–ß–ï–í–´–ï –§–ò–ß–ò

### –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
1. **AI –∞–Ω–∞–ª–∏–∑** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –≥–µ–æ–∫–æ–¥–∏–Ω–≥
2. **Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ø–∞—Ä—Å–µ—Ä –∫–∞–Ω–∞–ª–æ–≤ + –±–æ—Ç + Mini App
3. **Offline-first** - —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
4. **–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∂–∞–ª–æ–± –Ω–∞ –∫–∞—Ä—Ç–µ
5. **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** - –ª–∞–π–∫–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, —Ä–µ–ø—É—Ç–∞—Ü–∏—è

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:
- **Backend:** FastAPI, SQLAlchemy, PostgreSQL
- **AI:** Anthropic Claude, OpenAI GPT
- **Frontend:** Flutter, OpenStreetMap
- **Telegram:** Telethon, aiogram
- **DevOps:** Docker, Nginx, Redis

---

*–°–ø–∏—Å–æ–∫ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã*
*–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞: 1.0*
